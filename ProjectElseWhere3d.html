<!DOCTYPE html>
<html data-wf-page="61c5e06d4c32b4d376aaf502" data-wf-site="603fe89ec4bbcece7ee6a53a" lang="en">

<head>
  <meta charset="utf-8" />
  <title>Negotiated Intelligence | The Wrong Biennale 7th Edition</title>
  <meta content="Negotiated Intelligence" name="description" />
  <meta content="Negotiated Intelligence" property="og:title" />
  <meta content="Negotiated Intelligence" property="og:description" />
  <meta property="og:type" content="website" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link href="base.css" rel="stylesheet" type="text/css" />
  <link href="assets/img/favicon.png" rel="shortcut icon" type="image/x-icon" />
  <link href="assets/img/favicon.png" rel="apple-touch-icon" />
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=603fe89ec4bbcece7ee6a53a" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>

  <script type="text/javascript">
    ! function(o, c) {
      var n = c.documentElement,
        t = " w-mod-";
      n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
    }(window, document);
  </script>

  <style>
    *,
    *::after,
    *::before {
      box-sizing: border-box;
    }

    html {
      background: #030303;
    }

    body {
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: subpixel-antialiased;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-overflow-scrolling: touch;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      overscroll-behavior: none;
    }

    .content {
      position: relative;
      z-index: 2;
    }

    #hero-threejs {
      cursor: pointer;
    }

    /*Disable Text Selection */
    @media (min-width: 991px) {
      * {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
    }

    input,
    textarea {
      -webkit-user-select: text;
      -khtml-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      user-select: text;
    }

    /*Remove Scrollbar */
    ::-webkit-scrollbar {
      -ms-overflow-style: none;
      display: none;
      overflow: -moz-scrollbars-none;
      scrollbar-width: none;
      -ms-overflow-style: none;
      -ms-overflow-style: -ms-autohiding-scrollbar;
    }

    .grid-w {
      display: none;
    }

    .underline-style {
      text-underline-offset: 0.3rem;
      text-decoration-thickness: 1px;
    }

    .blend_back {
      background-blend-mode: luminosity;
      background-color: #030303;
      opacity: 0.1;
      display: block;
    }

    canvas {
      left: 0;
      position: fixed;
      top: 0;
      z-index: 1;
    }

    [data-animation="slider"],
    [data-animation="slider"] .collection-list {
      display: inline-block;
      width: auto !important;
      white-space: nowrap;
    }

    [data-animation="slider-item"] {
      display: inline-block !important;
      height: 38vw;
      position: relative;
      width: 55vw;
    }

    [data-animation="slider-item"] img {
      border: 2px solid #bbb9b94a;
      border-radius: 18px;
      position: absolute;
      object-fit: cover;
      left: 0;
      top: 0;
      height: 100%;
      width: calc(100% - 2vw);
    }

    .menu {
      height: 100vh;
      height: calc(var(--vh, 1vh) * 100);
    }

    @media (max-width: 991px) {
      [data-animation="slider-item"] {
        width: 90vw;
      }

      [data-animation="slider-item"] img {
        border-width: 1px;
        border-radius: 5px;
      }
    }

    .loader {
      display: block;
    }
  </style>

  <style>
    .dataset .h-h2.desc {
      font-size: 1.5rem;
      line-height: 1.3;
      font-weight: 300;
      border-bottom: 1px solid #ddd;
      padding: 8px;
    }

    thead {
      background-color: #585858;
      color: white;
      font-weight: 300;
    }

    th,
    td {
      border-bottom: 1px solid #ddd;
      padding: 8px;
    }

    table {
      border-collapse: collapse;
      border-top: 2px solid black;
      border-bottom: 2px solid black;
    }


    .hero.home,
    .wait {
      height: 100vh;
      display: none;
      /* height: calc(var(--vh, 1vh) * 100); */
    }


    .statlines {
      font-family: "Segoe UI", Verdana, sans-serif;
      overflow-y: scroll;
      color: #b9b8b8;
      z-index: 99;
      line-height: 1.5;
      right: 2vw;
      text-align: right;
      bottom: 4vw;
      position: fixed;
      font-size: 0.7rem;
      max-width: 250px;
    }
  </style>
</head>

<body class="body" data-ix="pre-loader">
  <div class="gradient-embed w-embed">
    <style>
      .gradient {
        -webkit-text-fill-color: transparent;
        -webkit-background-clip: text;
      }

      .blend {
        mix-blend-mode: difference;
      }
    </style>
  </div>

  <main data-template="home" class="content demo">
    <div class="hero home">
      <div data-w-id="53ee3c76-c537-5088-f0d4-fc00e8f8c98a" class="wait-bar">
        <div class="outer hero-t" style="line-height: 150%">
          <div class="text disclaimer load" style="font-size: 12px">
            <!-- CAMLab is a multidisciplinary <br /> research lab at Harvard University. -->
          </div>
        </div>
        <div class="progress-bar">
          <div class="progress-side"></div>
          <div data-w-id="59520e50-2513-aecd-1a28-ea8f307e866f" class="progress-face"></div>
          <div class="progress-text">
            <div class="text-block-2">Loading</div>
          </div>
        </div>
      </div>
      <div class="loader"></div>
      <script type="importmap">
        {
  "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js"
  }
}
</script>

      <script type="module">
        import * as THREE from 'https://esm.sh/three@0.152.2';
        import {
          OrbitControls
        } from 'https://esm.sh/three@0.152.2/examples/jsm/controls/OrbitControls.js';
        import {
          EffectComposer
        } from 'https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/postprocessing/EffectComposer.js';
        import {
          RenderPass
        } from 'https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/postprocessing/RenderPass.js';

        let composer, effectSobel;
        let animated_drawing, animated_secondDrawing, animated_wire;
        let animated_drawing_clicked, animated_secondDrawing_clicked, animated_wire_clicked;
        let mural, drawing, secondDrawing, wire;

        // Constants
        const Z_offset = 0;
        let mural_x = 2,
          mural_y = 0,
          mural_z = -5,
          mural_scale = 3;
        let drawing_x = 0,
          drawing_y = 0,
          drawing_z = 0,
          drawing_z_target = 5,
          drawing_scale = 2.5;
        let secondDrawing_x = 0,
          secondDrawing_y = 0,
          secondDrawing_z = 10,
          secondDrawing_z_target = 15,
          secondDrawing_scale = 2.8;
        let wire_x = 0,
          wire_y = -4,
          wire_z = -4,
          wire_z_target = 18,
          wire_scale = 40;

        // File paths
        const SCENE_BACKGROUND = 'textures/dunhuang/amo_data_bg_dimmed_black.png';
        const MURAL = 'assets/img/elsewhere/Doc.png'; //'textures/dunhuang/反弹琵琶一式壁画trimmed2.jpeg';
        const DRAWING = 'assets/img/elsewhere/Intermediate video frame 1.png';//'textures/dunhuang/反弹琵琶一式inverted.jpg';
        const SECOND_DRAWING = 'textures/dunhuang/反弹琵琶一式inverted.jpg'; // Change this to your second drawing

        const OUTLINE_ON_MOUSEPOINT = false;
        let selectedObjects = [];
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000000);
        scene.fog = new THREE.Fog(0x000000, 500, 4000);

        const clock = new THREE.Clock();
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(screen.width > 497 ? -12 : 12, 6, screen.width > 497 ? 25 : 28);

        const renderer = new THREE.WebGLRenderer({
          canvas: document.querySelector('#hero-threejs'),
          antialias: true
        });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.render(scene, camera);

        // Lights
        const pointLight = new THREE.PointLight(0xffffff);
        pointLight.position.set(5, 5, 5);
        const ambientLight = new THREE.AmbientLight(0xffffff);
        scene.add(pointLight, ambientLight);

        const controls = new OrbitControls(camera, renderer.domElement);

        // Mural Image
        const muralTexture = new THREE.TextureLoader().load(MURAL);
        mural = new THREE.Mesh(new THREE.BoxGeometry(3, 3, 0.05), new THREE.MeshBasicMaterial({
          map: muralTexture
        }));
        composer = new EffectComposer(renderer);
        const renderPass = new RenderPass(scene, camera);
        composer.addPass(renderPass);
        mural.scale.set(mural_scale, mural_scale, mural_scale);
        mural.position.set(mural_x, mural_y, mural_z);

        // Add userData to identify this as the mural layer
        mural.userData = { isMuralLayer: true };

        scene.add(mural);

        // First Drawing Image
        const drawingloader = new THREE.TextureLoader();
        const opacity = 0.5;
        const drawingCubeMaterials = [
          new THREE.MeshPhongMaterial({
            opacity: opacity,
            transparent: true,
            map: drawingloader.load('textures/dunhuang/black.jpg')
          }), //right side
          new THREE.MeshPhongMaterial({
            opacity: opacity,
            transparent: true,
            map: drawingloader.load('textures/dunhuang/black.jpg')
          }), //left side
          new THREE.MeshPhongMaterial({
            opacity: opacity,
            transparent: true,
            map: drawingloader.load('textures/dunhuang/black.jpg')
          }), //top side
          new THREE.MeshPhongMaterial({
            opacity: opacity,
            transparent: true,
            map: drawingloader.load('textures/dunhuang/black.jpg')
          }), //bottom side
          new THREE.MeshPhongMaterial({
            opacity: opacity,
            transparent: true,
            map: drawingloader.load(DRAWING)
          }), //front side
          new THREE.MeshPhongMaterial({
            opacity: opacity,
            transparent: true,
            map: drawingloader.load(DRAWING)
          }), //back side
        ];
        const geometry = new THREE.BoxGeometry(3, 3, 0.01);
        drawing = new THREE.Mesh(geometry, drawingCubeMaterials);
        drawing.scale.set(drawing_scale, drawing_scale, drawing_scale);
        scene.add(drawing);
        drawing.position.set(drawing_x, drawing_y, drawing_z);

        // Video Layer (replaces BVH skeleton)
        const video = document.createElement('video');
        video.src = 'assets/video/Daria_Belkina_ElsewhereGallery_16-9_fulres.mp4';
      //  video.crossOrigin = 'anonymous';
        video.loop = true;
        video.muted = true;
        video.playsInline = true;

        // Wait for video metadata to load
        video.addEventListener('loadedmetadata', () => {
          // Create video texture after metadata is loaded
          const videoTexture = new THREE.VideoTexture(video);
          videoTexture.minFilter = THREE.LinearFilter;
          videoTexture.magFilter = THREE.LinearFilter;
          videoTexture.format = THREE.RGBAFormat; // Changed to RGBA for better compatibility
          videoTexture.generateMipmaps = false;
          videoTexture.wrapS = THREE.ClampToEdgeWrapping;
          videoTexture.wrapT = THREE.ClampToEdgeWrapping;

          const videoOpacity = 0.8;
          const videoCubeMaterials = [
            new THREE.MeshPhongMaterial({
              opacity: 0,
              transparent: true,
              color: 0x000000
            }), //right side
            new THREE.MeshPhongMaterial({
              opacity: 0,
              transparent: true,
              color: 0x000000
            }), //left side
            new THREE.MeshPhongMaterial({
              opacity: 0,
              transparent: true,
              color: 0x000000
            }), //top side
            new THREE.MeshPhongMaterial({
              opacity: 0,
              transparent: true,
              color: 0x000000
            }), //bottom side
            new THREE.MeshPhongMaterial({
              opacity: 0,
              transparent: true,
              map: videoTexture
            }), //front side
            new THREE.MeshPhongMaterial({
              opacity: 0,
              transparent: true,
              map: videoTexture
            }), //back side
          ];

          const videoGeometry = new THREE.BoxGeometry(3, 3, 0.01);
          secondDrawing = new THREE.Mesh(videoGeometry, videoCubeMaterials);
          secondDrawing.scale.set(secondDrawing_scale, secondDrawing_scale, secondDrawing_scale);
          secondDrawing.position.set(secondDrawing_x, secondDrawing_y, secondDrawing_z);

          // Add userData to identify this as the video layer
          secondDrawing.userData = { isVideoLayer: true };

          scene.add(secondDrawing);

          // Store videoOpacity for animation
          window.videoOpacity = videoOpacity;

          // Start playing video
          video.play().catch(e => {
            console.log('Video autoplay failed, will try on user interaction:', e);
            // Fallback: try to play on first user interaction
            document.addEventListener('click', () => {
              video.play().catch(console.error);
            }, { once: true });
          });
        });

        video.addEventListener('error', (e) => {
          console.error('Video loading error:', e);
          // Fallback to a solid color material if video fails
          createFallbackLayer();
        });

        function createFallbackLayer() {
          const fallbackMaterials = [
            new THREE.MeshPhongMaterial({ opacity: 0, transparent: true, color: 0x000000 }),
            new THREE.MeshPhongMaterial({ opacity: 0, transparent: true, color: 0x000000 }),
            new THREE.MeshPhongMaterial({ opacity: 0, transparent: true, color: 0x000000 }),
            new THREE.MeshPhongMaterial({ opacity: 0, transparent: true, color: 0x000000 }),
            new THREE.MeshPhongMaterial({ opacity: 0, transparent: true, color: 0x4a90e2 }),
            new THREE.MeshPhongMaterial({ opacity: 0, transparent: true, color: 0x4a90e2 }),
          ];

          const videoGeometry = new THREE.BoxGeometry(3, 3, 0.01);
          secondDrawing = new THREE.Mesh(videoGeometry, fallbackMaterials);
          secondDrawing.scale.set(secondDrawing_scale, secondDrawing_scale, secondDrawing_scale);
          secondDrawing.position.set(secondDrawing_x, secondDrawing_y, secondDrawing_z);

          // Add userData to identify this as the video layer
          secondDrawing.userData = { isVideoLayer: true };

          scene.add(secondDrawing);

          window.videoOpacity = 0.8;
        }

        // Load video
        video.load();

        if (!animated_drawing_clicked) animated_drawing_clicked = true;
        if (!animated_secondDrawing_clicked) animated_secondDrawing_clicked = true;
        if (!animated_wire_clicked) animated_wire_clicked = true;
        animated_drawing = false;
        animated_secondDrawing = false;
        animated_wire = false;

        // Click event handler
        function onCanvasClick(event) {
          // Calculate mouse position in normalized device coordinates
          const rect = renderer.domElement.getBoundingClientRect();
          mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
          mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

          // Update the picking ray with the camera and mouse position
          raycaster.setFromCamera(mouse, camera);

          // Calculate objects intersecting the picking ray
          const intersects = raycaster.intersectObjects(scene.children);

          // Check if the clicked object is the video layer or mural layer
          for (let i = 0; i < intersects.length; i++) {
            const object = intersects[i].object;
            if (object.userData && (object.userData.isMuralLayer)) {
              window.open('./ProjectElsewhere.html', '_blank');
              break;
            }
            if (object.userData && (object.userData.isVideoLayer )) {
              window.open('./ProjectElsewhereFullScreen.html', '_blank');
              break;
            }

          }
        }

        // Add click event listener to the canvas
        renderer.domElement.addEventListener('click', onCanvasClick);

        // Animation Loop
        function animate() {
          requestAnimationFrame(animate);

          const time = -performance.now() * 0.0003;
          controls.update();

          // First drawing animation
          if (animated_drawing_clicked && !animated_drawing) {
            if (drawing.position.z <= drawing_z_target) {
              drawing.position.z += 0.05;
            } else {
              animated_drawing = true;
            }
          }

          // Video layer animation (replaces BVH animation)
          if (secondDrawing && animated_secondDrawing_clicked && !animated_secondDrawing) {
            // Fade in video materials
            for (let i = 0; i < secondDrawing.material.length; i++) {
              const material = secondDrawing.material[i];
              if (i === 4 || i === 5) { // Front and back faces with the video
                if (material.opacity < (window.videoOpacity || 0.8)) {
                  material.opacity += 0.005;
                }
              } else { // Side faces
                if (material.opacity < 0.2) {
                  material.opacity += 0.005;
                }
              }
            }

            // Check if animation is complete
            if (secondDrawing.material[4].opacity >= (window.videoOpacity || 0.8)) {
              animated_secondDrawing = true;
            }
          }

          if (wire && animated_wire_clicked && !animated_wire) {
            const model = wire.children[0];
            if (model.material.opacity <= 1) {
              model.material.opacity = model.material.opacity + 0.01;
              model.traverse(n => {
                if (n.isMesh) {
                  n.castShadow = true;
                  n.receiveShadow = true;
                  if (n.material.map) n.material.map.anisotropy = 1;
                }
              });
            } else {
              animated_wire = true;
            }
          }

          renderer.render(scene, camera);

          if (composer) {
            composer.render();
          }
        }

        animate();

        if (OUTLINE_ON_MOUSEPOINT) {
          renderer.domElement.addEventListener('pointermove', onPointerMove);
        }

        function onPointerMove(event) {
          if (event.isPrimary === false) return;

          mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
          mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        }
      </script>

      <div class="wait">
        <div class="wait-inner">
          <div class="wait_img-wrap">
            <div data-w-id="e8311aee-d434-6a91-e883-eae45438144d" class="wait_img"></div>
            <div data-w-id="a5f9b580-a290-06a9-c3a9-042380199875" class="wait-overlay"></div>
          </div>
          <div class="wait-content">
            <div class="hero-h1__wrap"><img src="https://chunweb.files.wordpress.com/2022/04/cave220.png" loading="lazy" alt="" class="hero-h1" /></div>
            <div class="hero-sum__wrap"><img src="https://chunweb.files.wordpress.com/2022/04/cave220.png" loading="lazy" alt="" class="hero-sum" /></div>
          </div>
        </div>
      </div>

      <div style="display:none" data-w-id="f9fa3984-c135-a210-c0e8-a4d556d96064" class="hero-row">
        <div class="hero-row-wrapper-rotation">
          <div data-animation="translate" data-animation-speed="-2" class="hero-row-wrapper">
            <div data-w-id="2e0b83a3-2ddc-f8d5-5e66-67b4b7f16c12" class="hero-col">
              <h1 data-w-id="b17efb30-8309-927f-1347-0fd3b6b5f13a" class="h-h1 hero-home"></h1>
            </div>
            <div data-w-id="2b8b4a59-2c0d-d6ad-ded6-c96568e0cdca" class="hero-col center"></div>
            <div data-w-id="fed3734d-7289-44d0-92b9-3110190db00e" class="hero-col right">
            </div>
          </div>
        </div>
      </div>
      <div class="info-img-gradient bottom hr">
        <div class="invert w-embed">
          <style>
            .info-img-gradient.bottom.hr {
              transform: scaleY(-1);
            }

            .hero-row {
              padding-bottom: 5vw;
            }
          </style>
        </div>
      </div>
    </div>

    <div class="statlines">
      <div class="title"></div>
      <div class="table">
        <div class="col">
          <img class="drawing" src="" />
          <div class="table">

            <div class="col" style="margin-top:2vw">
              <div class="statline"><span><i><b>Elsewhere Gallery</b><i></span></div>
              <div class="statline"><span>Video (loop)</span></div>
                <div class="statline"><span>Daria Belkina</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <canvas id="hero-threejs" style="height: 400px; width:100%"></canvas>

  </main>
  <div class="grid-event w-embed">
    <style>
      .grid-w {
        pointer-events: none;
      }
    </style>
  </div>

  <script>
    const script = fetch('./composition_master_main.js').then(async result => {
      result.text().then(text => {
        const scriptElement = document.createElement('script');
        scriptElement.innerHTML = text;
        document.body.appendChild(scriptElement);
      });
    });

    window.onpageshow = function(event) {
      if (event.persisted) {
        window.location.reload()
      }
    };

    //100vh Fix on Mobile
    let vh = window.innerHeight * 0.01;
    let size = 0;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
    window.addEventListener('resize', () => {
      if (window.innerWidth === size) return;
      size = window.innerWidth;
      let vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', `${vh}px`);
    });
  </script>

</body>

</html>
